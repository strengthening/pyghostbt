# 交割合约基础知识


### 保证金
- 解释  
    保证金是用来做合约的抵押。在交割合约中，保证金占用情况，跟杠杆倍数，当前价格有关的，合约面值有关。
- 公式  
    保证金 = 合约张数×合约面值÷当前价格÷杠杆倍数
- 例如  
    1. 100张面值为100$的合约，在BTC价格为10000$时，杠杆倍数为10的时候，需要的保证金为：
        100*100/10000/10 = 0.1BTC
    2. 当此时BTC价格上升到12000$时，需要的保证金为：
        100*100/12000/10 = 0.083333BTC
- 注意  
    当币价上升的时候，实际占用的保证金是更少的。但当币价下跌的时候，实际占用的保证金数更多。

### 盈亏
- 公式  
    多时以美元计价： 合约张数×合约面值×（当前价格-开仓价格）÷开仓价格  
    多时以币计价： 合约张数×合约面值×（当前价格-开仓价格）÷开仓价格÷当前价格  
    
    空时以美元计价： 合约张数×合约面值×（开仓价格-当前价格）÷开仓价格
    空时以币计价： 合约张数×合约面值×（开仓价格-当前价格）÷开仓价格÷当前价格
- 例如  
    1. 100张面值为100$的合约，在BTC价格为10000$的时候做多，当BTC价格到达10500$时，盈利情况如下：  
    以美元计价：100\*100\*(10500-10000)/10000 = 500$  
    以币计价：500/10500 = 0.0476฿
    2. 100张面值为100$的合约，在BTC价格为10000$的时候做多，当BTC价格到达9500$时，亏损情况如下：
    以美元计价：100\*100\*(9500-10000)/10000 = -500$
    以币计价：-500/9500 = -0.0526฿
    3. 100张面值为100$的合约，在BTC价格为10000$的时候做空，当BTC价格到达10500$时，亏损情况如下：  
    以美元计价：100\*100\*(10000 - 10500)/10000 = -500$  
    以币计价：-500/10500 = -0.0476฿
    2. 100张面值为100$的合约，在BTC价格为10000$的时候做空，当BTC价格到达9500$时，盈利情况如下：
    以美元计价：100\*100\*(10000 - 9500)/10000 = 500$  
    以币计价：500/9500 = 0.0526฿
    
- 注意
    如果以美元计价盈利时，多空概率相同、点数相同时，盈利规模一样。
    如果以币计价盈利时，多空概率相同、点数相同时，空的时候更容易挣更多的币。
    做多的时候，需要十分警惕爆仓风险，因为价格下跌时需要更多的币做为保证金，同时也在损失保证金。
    
- 表格  
    以币计价盈亏时做多的情况1w刀面值的合约，在1w价格的情况下
    
|n取值|方向|上涨n%收益|下跌n%收益|比率|
|:---|:---|:---|:---|:---|
|n=1|多|0.0099|-0.0101|1.0202|
|n=3|多|0.0291|-0.0309|1.0619|
|n=5|多|0.0476|-0.0526|1.1050|
|n=10|多|0.0909|-0.1111|1.2222|
|...|多|...|...|...|
|n=n|多|n/(100+n)|n/(100-n)|(100+n)/(100-n)|


### 标记价格
    
### 爆仓

